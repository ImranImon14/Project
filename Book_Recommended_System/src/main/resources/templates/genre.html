<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Books by Genre</title>
</head>
<body>
<h1 th:text="'Books in ' + ${genre} + ' Genre'"></h1>

<a href="/books">Back to All</a>
<hr/>

<ul>
    <li th:each="book : ${books}">
        <strong th:text="${book.title}"></strong> by
        <em th:text="${book.author}"></em>
        <br/>
        <img th:src="${book.imageUrl}" alt="Book cover" width="100"/>
        <br/>
        <!-- Show Delete link only if admin -->
        <a th:if="${role == 'admin'}"
           th:href="@{'/books/delete/' + ${book.id}}"
           onclick="return confirm('Are you sure you want to delete this book?');">
            Delete
        </a>
    </li>
</ul>
</body>
</html>
